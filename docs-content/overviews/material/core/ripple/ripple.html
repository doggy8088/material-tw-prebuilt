<div class="docs-markdown"><p translation-result="on">使用漣漪可以將使用者的輸入與螢幕的反應聯絡起來，以指示觸控點，並確認已收到輸入。對於任何觸控或滑鼠操作，其接觸點上都會出現漣漪。</p><p translation-origin="off">Connect user input to screen reactions by using ripples to both indicate the point of touch, and to
confirm that touch input was received. For touch or mouse, this occurs at the point of contact.</p>

<p translation-result="on">屬性型指令 <code>matRipple</code> 定義了一個區域，當和使用者互動時，該區域就會播放一個漣漪動畫。</p><p translation-origin="off">The <code>matRipple</code> attribute directive defines an area in which a ripple animates on user interaction.</p>

<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">matRipple</span> [<span class="hljs-attr">matRippleColor</span>]=<span class="hljs-string">"myColor"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ng-content</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ng-content</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p translation-result="on">預設情況下，當 <code>matRipple</code> 指令的宿主元素收到滑鼠或觸控事件時，就會啟用一個漣漪。當按下時，一個漣漪就會從接觸點出現並逐漸消失，其輻射範圍會覆蓋宿主元件。當釋放滑鼠或結束觸控時，其漣漪就會淡出。</p><p translation-origin="off">By default, a ripple is activated when the host element of the <code>matRipple</code> directive receives
mouse or touch events. Upon being pressed, a ripple will begin fading in from the point of contact,
radiating to cover the host element. Each ripple will fade out only upon release of the mouse or touch.</p>

<p translation-result="on">還可以獲得對 MatRipple 指令的引用並呼叫其 <code>launch</code> 方法，以程式設計的方式觸發漣漪。</p><p translation-origin="off">Ripples can also be triggered programmatically by getting a reference to the MatRipple directive
and calling its <code>launch</code> method.</p>


        <h3 id="ripple-trigger" class="docs-header-link" translation-result="on">
          <span header-link="漣漪觸發"></span>
          漣漪觸發
        </h3><h3 class="docs-header-link" translation-origin="off">
          <span header-link="ripple-trigger"></span>
          Ripple trigger
        </h3>
      
        
      <p translation-result="on">預設情況下，當指令的宿主元素有互動時，漣漪會淡入。在某些情況下，開發人員可能希望在與<em>另一個</em>元素的互動中顯示漣漪，但仍希望把這些漣漪在特定的位置播放。要做到這一點，可以為 <code>matRippleTrigger</code> 選項指定那個元素的 <code>HTMLElement</code> 引用。</p><p translation-origin="off">By default ripples will fade in on interaction with the directive's host element.
In some situations, developers may want to show ripples on interaction with <em>some other</em> element,
but still want to have the ripples placed in another location. This can be done by specifying
the <code>matRippleTrigger</code> option that expects a reference to an <code>HTMLElement</code>.</p>

<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">matRipple</span> [<span class="hljs-attr">matRippleTrigger</span>]=<span class="hljs-string">"trigger"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"my-ripple-container"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- This is the ripple container, but not the trigger element for ripples. --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> #<span class="hljs-attr">trigger</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>

        <h3 id="manual-ripples" class="docs-header-link" translation-result="on">
          <span header-link="手動漣漪"></span>
          手動漣漪
        </h3><h3 class="docs-header-link" translation-origin="off">
          <span header-link="manual-ripples"></span>
          Manual ripples
        </h3>
      
        
      <p translation-result="on">透過引用 <code>MatRipple</code> 指令，可以用程式設計的方式顯示漣漪。</p><p translation-origin="off">Ripples can be shown programmatically by getting a reference to the <code>MatRipple</code> directive.</p>

<pre><code class="language-ts"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyComponent</span> </span>{

  <span class="hljs-comment">/** Reference to the directive instance of the ripple. */</span>
  <span class="hljs-meta">@ViewChild</span>(MatRipple) ripple: MatRipple;

  <span class="hljs-comment">/** Shows a centered and persistent ripple. */</span>
  <span class="hljs-function"><span class="hljs-title">launchRipple</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> rippleRef = <span class="hljs-built_in">this</span>.ripple.launch({
      <span class="hljs-attr">persistent</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">centered</span>: <span class="hljs-literal">true</span>
    });

    <span class="hljs-comment">// Fade out the ripple later.</span>
    rippleRef.fadeOut();
  }
}
</code></pre>
<p translation-result="on">在上面的例子中，並沒有傳遞特定的坐標，因為漣漪的 <code>centered</code> 選項已設定為 <code>true</code>，這時坐標就無關緊要了。</p><p translation-origin="off">In the example above, no specific coordinates have been passed, because the <code>centered</code>
ripple option has been set to <code>true</code> and the coordinates would not matter.</p>

<p translation-result="on">那些以程式設計方式觸發的漣漪可以透過 <code>persistent</code> 選項來啟動。這意味著漣漪將不會自動淡出，而是需要使用 <code>RippleRef</code> 來讓它淡出（<em>這對焦點指示器很有用</em>）。</p><p translation-origin="off">Ripples that are being dispatched programmatically can be launched with the <code>persistent</code> option.
This means that the ripples will not fade out automatically, and need to be faded out using
the <code>RippleRef</code> (<em>useful for focus indicators</em>).</p>

<p translation-result="on">如果開發人員希望在該元素內的指定坐標處啟動漣漪，那麼 <code>launch()</code> 方法也會接受 <code>x</code> 和 <code>y</code> 坐標作為引數。這些坐標是相對於該漣漪的容器元素的。</p><p translation-origin="off">In case, developers want to launch ripples at specific coordinates within the element, the
<code>launch()</code> method also accepts <code>x</code> and <code>y</code> coordinates as parameters. Those coordinates
are relative to the ripple container element.</p>

<pre><code class="language-ts"><span class="hljs-keyword">const</span> rippleRef = <span class="hljs-built_in">this</span>.ripple.launch(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, {<span class="hljs-attr">persistent</span>: <span class="hljs-literal">true</span>});
</code></pre>

        <h3 id="global-options" class="docs-header-link" translation-result="on">
          <span header-link="全域選項"></span>
          全域選項
        </h3><h3 class="docs-header-link" translation-origin="off">
          <span header-link="global-options"></span>
          Global options
        </h3>
      
        
      <p translation-result="on">開發人員可以為應用中的所有漣漪指定一些選項。</p><p translation-origin="off">Developers are able to specify options for all ripples inside of their application.</p>

<p translation-result="on">可以調節漣漪的速度，也可以全域停用它。</p><p translation-origin="off">The speed of the ripples can be adjusted and the ripples can be disabled globally as well.</p>

<p translation-result="on">可以透過設定 <code>MAT_RIPPLE_GLOBAL_OPTIONS</code> 提供符來指定全域的漣漪選項。</p><p translation-origin="off">Global ripple options can be specified by setting the <code>MAT_RIPPLE_GLOBAL_OPTIONS</code> provider.</p>

<pre><code class="language-ts"><span class="hljs-keyword">const</span> globalRippleConfig: RippleGlobalOptions = {
  <span class="hljs-attr">disabled</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">animation</span>: {
    <span class="hljs-attr">enterDuration</span>: <span class="hljs-number">300</span>,
    <span class="hljs-attr">exitDuration</span>: <span class="hljs-number">0</span>
  }
};

<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">providers</span>: [
    {<span class="hljs-attr">provide</span>: MAT_RIPPLE_GLOBAL_OPTIONS, <span class="hljs-attr">useValue</span>: globalRippleConfig}
  ]
})
</code></pre>
<p translation-result="on">所有可用的全域選項都能在 <code>RippleGlobalOptions</code> 介面中找到。</p><p translation-origin="off">All available global options can be seen in the <code>RippleGlobalOptions</code> interface.</p>


        <h3 id="disabling-animation" class="docs-header-link" translation-result="on">
          <span header-link="停用動畫"></span>
          停用動畫
        </h3><h3 class="docs-header-link" translation-origin="off">
          <span header-link="disabling-animation"></span>
          Disabling animation
        </h3>
      
        
      <p translation-result="on">使用全域選項 <code>animation</code> 可以停用漣漪的動畫。如果 <code>enterDuration</code> 和 <code>exitDuration</code> 被設定為 <code>0</code>，那麼當出現漣漪時就不會產生任何動畫。</p><p translation-origin="off">The animation of ripples can be disabled by using the <code>animation</code> global option. If the
<code>enterDuration</code> and <code>exitDuration</code> is being set to <code>0</code>, ripples will just appear without any
animation.</p>

<p translation-result="on">這在與全域選項 <code>disabled</code> 共同出現的時候特別有用，因為全域停用漣漪不會影響焦點指示器的漣漪效果。如果出於效能原因，有人仍要停用這些漣漪，那麼可以把持續時間設定為 <code>0</code>，以消除漣漪效果。</p><p translation-origin="off">This is specifically useful in combination with the <code>disabled</code> global option, because globally
disabling ripples won't affect the focus indicator ripples. If someone still wants to disable
those ripples for performance reasons, the duration can be set to <code>0</code>, to remove the ripple feel.</p>

<pre><code class="language-ts"><span class="hljs-keyword">const</span> globalRippleConfig: RippleGlobalOptions = {
  <span class="hljs-attr">disabled</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">animation</span>: {
    <span class="hljs-attr">enterDuration</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">exitDuration</span>: <span class="hljs-number">0</span>
  }
};
</code></pre>
<p translation-result="on"><strong>注意</strong>：如果正在使用 <code>NoopAnimationsModule</code> 漣漪也不會有動畫。這意味著不必考慮 <code>animation</code> 設定中的持續時間。</p><p translation-origin="off"><strong>Note</strong>: Ripples will also have no animation if the <code>NoopAnimationsModule</code> is being used. This
also means that the durations in the <code>animation</code> configuration won't be taken into account.</p>


        <h3 id="animation-behavior" class="docs-header-link" translation-result="on">
          <span header-link="動畫行為"></span>
          動畫行為
        </h3><h3 class="docs-header-link" translation-origin="off">
          <span header-link="animation-behavior"></span>
          Animation behavior
        </h3>
      
        
      <p translation-result="on">Material Design 規範中所展示的漣漪淡出有兩種不同的動畫行為。</p><p translation-origin="off">There are two different animation behaviors for the fade-out of ripples shown in the Material
Design specifications.</p>

<p translation-result="on">預設情況下，如果釋放滑鼠或觸控並且已完成進場動畫，那麼所有漣漪都會淡出。另一種可能的行為，就是在放開滑鼠或結束觸控時，漣漪也會立即淡出，正如規範中所要求的那樣。</p><p translation-origin="off">By default, all ripples will start fading out if the mouse or touch is released and the enter
animation completed. The second possible behavior, which is also shown in the specifications, is
that ripples start to fade out immediately on mouse or touch release.</p>

<p translation-result="on">在某些情況下，開發人員可能更喜歡覆蓋預設行為，並希望 Angular Material 也這樣做。這時可以透過指定全域選項 <code>terminateOnPointerUp</code> 來啟用第二種行為。</p><p translation-origin="off">In some scenarios, developers might prefer that behavior over the default and would like to have
the same for Angular Material. This behavior can be activated by specifying the
<code>terminateOnPointerUp</code> global ripple option.</p>

<pre><code class="language-ts"><span class="hljs-keyword">const</span> globalRippleConfig: RippleGlobalOptions = {
  <span class="hljs-attr">terminateOnPointerUp</span>: <span class="hljs-literal">true</span>
};
</code></pre>

        <h3 id="updating-global-options-at-runtime" class="docs-header-link" translation-result="on">
          <span header-link="在執行時更新全域選項"></span>
          在執行時更新全域選項
        </h3><h3 class="docs-header-link" translation-origin="off">
          <span header-link="updating-global-options-at-runtime"></span>
          Updating global options at runtime
        </h3>
      
        
      <p translation-result="on">要想在執行時更改全域的 ripple 選項，只需要注入 <code>MAT_RIPPLE_GLOBAL_OPTIONS</code> 提供者並更新所需的選項。</p><p translation-origin="off">To change global ripple options at runtime, just inject the <code>MAT_RIPPLE_GLOBAL_OPTIONS</code>
provider and update the desired options.</p>

<p translation-result="on">有多種注入全域選項的方式。為了便於在執行時注入和更新選項，我們建議你建立一個實現 <code>RippleGlobalOptions</code> 介面的服務。</p><p translation-origin="off">There are various ways of injecting the global options. In order to make it easier to
inject and update options at runtime, it's recommended to create a service that implements
the <code>RippleGlobalOptions</code> interface.</p>

<pre><code class="language-ts"><span class="hljs-meta">@Injectable</span>({<span class="hljs-attr">providedIn</span>: <span class="hljs-string">'root'</span>})
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppGlobalRippleOptions</span> <span class="hljs-title">implements</span> <span class="hljs-title">RippleGlobalOptions</span> </span>{
  <span class="hljs-comment">/** Whether ripples should be disabled globally. */</span>
  <span class="hljs-attr">disabled</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;
}
</code></pre>
<pre><code class="language-ts"><span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">providers</span>: [
    {<span class="hljs-attr">provide</span>: MAT_RIPPLE_GLOBAL_OPTIONS, <span class="hljs-attr">useExisting</span>: AppGlobalRippleOptions},
  ]
})
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyModule</span> </span>{...}
</code></pre>
<p translation-result="on">既然全域的 ripple 選項被設定為了我們可以注入的服務，那麼該服務可以在執行時更新任何全域的 ripple 選項。</p><p translation-origin="off">Now that the global ripple options are set to a service we can inject, the service can be
used update any global ripple option at runtime.</p>

<pre><code class="language-ts"><span class="hljs-meta">@Component</span>(...)
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyComponent</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> _appRippleOptions: AppGlobalRippleOptions</span>)</span> {}

  <span class="hljs-function"><span class="hljs-title">disableRipples</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-built_in">this</span>._appRippleOptions.disabled = <span class="hljs-literal">true</span>;
  }
}
</code></pre>
</div>